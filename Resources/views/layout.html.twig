{# Thibautg16/SqueletteBundle/Resources/views/layout.html.twig #}
 
<!DOCTYPE html>
<html>
    <!--[if IE 8]>         <html class="ie8"> <![endif]-->
    <!--[if IE 9]>         <html class="ie9 gt-ie8"> <![endif]-->
    <!--[if gt IE 9]><!--> <html class="gt-ie8 gt-ie9 not-ie"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <title>{% block title %}Thibautg16{% endblock %}</title>

        {% block stylesheets %}
            <!-- Jquery CSS -->
            <link rel="stylesheet" type="text/css" href="{{ asset('bundles/thibautg16squelette/css/jquery-ui.min.css') }}">

            <!-- FooTable CSS -->
            <link rel="stylesheet" type="text/css" href="{{ asset('bundles/thibautg16squelette/css/footable.core.min.css') }}" />

            <!-- Bootstraps CSS -->
            <link rel="stylesheet" type="text/css" href="{{ asset('bundles/thibautg16squelette/css/bootstrap.min.css') }}" />
            <link rel="stylesheet" type="text/css" href="{{ asset('bundles/thibautg16squelette/css/themes.min.css') }}" />

            <!-- Notifit CSS -->
            <link rel="stylesheet" type="text/css" href="{{ asset('bundles/thibautg16squelette/css/notifit.css') }}" />
        {% endblock %}

        <!-- Get jQuery from Google CDN -->
        <!--[if !IE]> -->
            <script type="text/javascript"> window.jQuery || document.write('<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js">'+"<"+"/script>"); </script>
        <!-- <![endif]-->
        <!--[if lte IE 9]>
            <script type="text/javascript"> window.jQuery || document.write('<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js">'+"<"+"/script>"); </script>
        <![endif]-->
        <!--[if lt IE 9]>
            <script src="{{ asset('bundles/thibautg16squelette/js/ie.min.js') }}"></script>
        <![endif]-->
        <script src="{{ asset('bundles/thibautg16squelette/js/notifit.js') }}"></script>
    </head>

        <body class="theme-default main-menu-animated main-navbar-fixed">
       <div id="main-wrapper">
               <div id="content" class="span9">

               {% for flashMessage in app.session.flashbag.get('notice') %}
                                <script>
                                        notif({
                                          type: "info",
                                          msg: "{{ flashMessage }}",
                                          width: screen.width - 280,
                                          position: "center",
                                        });
                                </script>
                        {% endfor %}

                        {% for flashMessage in app.session.flashbag.get('success') %}
                                <script>
                                        notif({
                                          type: "success",
                                          msg: "{{ flashMessage }}",
                                          width: screen.width - 280,
                                          position: "center",
                                        });
                                </script>
                        {% endfor %}

                        {% for flashMessage in app.session.flashbag.get('error') %}
                                <script>
                                        notif({
                                          type: "error",
                                          msg: "{{ flashMessage }}",
                                          width: screen.width - 280,
                                          position: "center",
                                        });
                                </script>
                        {% endfor %}

                        {% block body %}
                          <div class="container">
                            <ol class="breadcrumb">
                              {% block fil_ariane %}
                              {% endblock %}
                            </ol>
                          </div>    
                        
                          <!-- Fixed navbar -->
                          <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
                            <div class="container">
                              <div class="navbar-header">
                                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                                  <span class="sr-only">Toggle navigation</span>
                                  <span class="icon-bar"></span>
                                  <span class="icon-bar"></span>
                                  <span class="icon-bar"></span>
                                </button>
                                <a class="navbar-brand" href="">Thibautg16</a>
                              </div>
                              
                              <div id="navbar" class="navbar-collapse collapse">
                                <ul class="nav navbar-nav">
                                  {% if app.request.attributes.get('_route') == '' %}
                                    <li class="active"><a href="">Accueil</a></li>
                                  {% else %}
                                    <li><a href="">Accueil</a></li>
                                  {% endif %}
                                  
                                  {% set bundle = app.request.get('_controller')|split('\x5c') %}
                                  {% set admin = FALSE %}

                                  {% for role in app.user.roles %}
                                    {% if (((role == 'ROLE_ADMIN') or (role == 'ROLE_SUPERADMIN')) and not admin) %}
                                      {% include 'Thibautg16' ~ bundle.1 ~ ':Menu:menu_admin_' ~ bundle.1|slice(0,-6)|lower ~ '.html.twig' %}
                                      {% set admin = 1 %}
                                    {% endif %}
                                  {% endfor %}
                                  
                                  {% if not admin %}
                                    {% include 'Thibautg16' ~ bundle.1 ~ ':Menu:menu_' ~ bundle.1|slice(0,-6)|lower ~ '.html.twig' %}
                                  {% endif %}
                                  
                                </ul>
                                <ul class="nav navbar-nav pull-right">
                                  <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">{{ app.user.username|upper }}&nbsp;&nbsp;<b class="caret"></b></a>
                                    <ul class="dropdown-menu">
                                      <li><a href=""><i class="icon-cog"></i>Préférences</a></li>
                                      <li class="divider"></li>
                                      <li><a href="{{ path('logout') }}"><i class="dropdown-icon fa fa-power-off"></i>&nbsp;&nbsp;Log Out</a></li>
                                    </ul>
                                  </li>
                                </ul>
                              </div><!--/.nav-collapse -->
                            </div>
                          </nav>
                        
                          <!-- On définit un nouveau bloc, que les vues du bundle pourront remplir -->
                          <div class="container">
                            {% block body_thibautg16 %}
                            {% endblock %}
                          </div>
                        {% endblock %}
                        </div>

                        <hr>
            <div id="main-menu-bg"></div>

            <div id="footer">
              <div class="container">
                <p class="text-muted credit">Copyright &copy; 2014-2016 Gillardeau Thibaut | <a href="#">Contact</a> | <a href="http://validator.w3.org/check?uri=referer">HTML 5</a> | <a href="#">Informations Légales</a></p>
              </div>
                        </div>
                </div>

    <!-- Javascripts -->
    {% block javascripts %}
        <!-- jQuery Js -->
        <!-- <script type="text/javascript" charset="utf8" src="{{ asset('bundles/thibautg16squelette/js/jquery-2.1.1.min.js') }}"></script> -->
        <script type="text/javascript" charset="utf8" src="{{ asset('bundles/thibautg16squelette/js/jquery-ui.min.js') }}"></script>

        <!-- Footable Js -->
        <script type="text/javascript" charset="utf8" src="{{ asset('bundles/thibautg16squelette/js/footable.js') }}"></script>
        <script type="text/javascript" charset="utf8" src="{{ asset('bundles/thibautg16squelette/js/footable.paginate.js') }}"></script>
        <script type="text/javascript" charset="utf8" src="{{ asset('bundles/thibautg16squelette/js/footable.filter.js') }}"></script>
        <script type="text/javascript" charset="utf8" src="{{ asset('bundles/thibautg16squelette/js/footable.sort.js') }}"></script>

        <!-- Highcharts Js -->
        <script type="text/javascript" charset="utf8" src="{{ asset('bundles/thibautg16squelette/js/highcharts/highcharts.js') }}"></script>

                    <script src="{{ asset('bundles/thibautg16squelette/js/notifit.js') }}"></script>

                    <script type="text/javascript">
            $(function () {
                $('.footable').footable();
            });
        </script>

        <!-- monjs Js-->
        <script type="text/javascript" charset="utf8" src="{{ asset('bundles/thibautg16squelette/js/monjs.js') }}"></script>
           {% endblock %}

     <!-- Bootstrap JS  -->
    <script src="{{ asset('bundles/thibautg16squelette/js/bootstrap.min.js') }}"></script>
  </body>
</html> 